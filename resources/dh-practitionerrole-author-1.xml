<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="dh-practitionerrole-author-1" />
  <url value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-practitionerrole-author-1" />
  <version value="1.0.0" />
  <name value="DHPractitionerRoleAuthoring" />
  <title value="ADHA Authoring PractitionerRole" />
  <status value="draft" />
  <experimental value="false" />
  <publisher value="Australian Digital Health Agency" />
  <contact>
    <telecom>
      <system value="email" />
      <value value="help@digitalhealth.gov.au" />
    </telecom>
  </contact>
  <description value="The purpose of this profile is to define a core representation of a practitioner acting as an author or observer in a healthcare role, on behalf of an organisation, that is for the electronic exchange of health information between healthcare providers, and between healthcare providers and the My Health Record system infrastructure in Australia." />
  <copyright value="Copyright Â© 2021 Australian Digital Health Agency - All rights reserved. This content is licensed under a Creative Commons Attribution 4.0 International License. See https://creativecommons.org/licenses/by/4.0/." />
  <fhirVersion value="4.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="PractitionerRole" />
  <baseDefinition value="http://hl7.org.au/fhir/StructureDefinition/au-practitionerrole" />
  <derivation value="constraint" />
  <differential>
    <element id="PractitionerRole">
      <path value="PractitionerRole" />
      <short value="A practitioner acting as an author or observer in a healthcare role, on behalf of an organisation" />
      <constraint>
        <key value="inv-dh-prarol-01" />
        <severity value="error" />
        <human value="If present, a location shall at least have a reference, an identifier or a display" />
        <expression value="location.exists() implies location.all($this.reference.exists() or $this.identifier.exists() or $this.display.exists())" />
        <source value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-practitionerrole-author-1" />
      </constraint>
      <constraint>
        <key value="inv-dh-prarol-02" />
        <severity value="error" />
        <human value="If present, a healthcare service shall at least have a reference, an identifier or a display" />
        <expression value="healthcareService.exists() implies healthcareService.all($this.reference.exists() or $this.identifier.exists() or $this.display.exists())" />
        <source value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-practitionerrole-author-1" />
      </constraint>
    </element>
    <element id="PractitionerRole.identifier">
      <path value="PractitionerRole.identifier" />
      <definition value="Business Identifiers that are specific to a role/location." />
      <min value="1"/>
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.active">
      <path value="PractitionerRole.active" />
      <fixedBoolean value="true" />
    </element>
    <element id="PractitionerRole.practitioner">
      <path value="PractitionerRole.practitioner" />
      <min value="1"/>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-practitioner-core-1" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.practitioner.reference">
      <path value="PractitionerRole.practitioner.reference"/>
      <min value="1"/>
    </element>
    <element id="PractitionerRole.organization">
      <path value="PractitionerRole.organization" />
      <min value="1"/>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-organization-core-1" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.organization.reference">
      <path value="PractitionerRole.organization.reference"/>
      <min value="1"/>
    </element>
    <element id="PractitionerRole.code">
      <path value="PractitionerRole.code" />
      <min value="1"/>
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.specialty">
      <path value="PractitionerRole.specialty" />
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.location">
      <path value="PractitionerRole.location" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-location-core-1" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.healthcareService">
      <path value="PractitionerRole.healthcareService" />
      <max value="1"/>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/dh-healthcareservice-core-1" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="PractitionerRole.telecom">
      <path value="PractitionerRole.telecom" />
      <min value="1"/>
      <mustSupport value="true" />
    </element>
  </differential>
</StructureDefinition>